Create VPC - Get VPC CIDR from user.
Create Subnets - create /24 subnets. use cidr functions.
Create EC2
Attach IAM instance role having S3 access to EC2. - use .tpl and rendered.
Create Security Groups.
Create NACL.
Create ALB
Configure AutoScaling

make use of local tags.